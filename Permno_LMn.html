<meta charset="utf-8">
     <style>
      /* disable text selection */
      svg *::selection {
         background : transparent;
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 12pt;
        font-family: Consolas, courier;
        fill: #aaa;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: sans-serif;
        font-size: 12px;
        line-height: 20px;
      }
    </style>

</head>
<div id="tooltip" class="hidden">
        <p><span id="value"></p>
</div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<center> X: Permno and Y: community</center>
<div id="chart" style='overflow:auto; '></div>

<script type="text/javascript">
 var margin = { top: 100, right: 20, bottom: 50, left: 150 },
  cellSize=20;
  col_number=711;
  row_number=20;
  width = cellSize*col_number, // - margin.left - margin.right,
  height = cellSize*row_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(width / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 20,
  colors = ['#005824','#1A693B','#347B53','#4F8D6B','#699F83','#83B09B','#9EC2B3','#B8D4CB','#D2E6E3','#EDF8FB','#FFFFFF','#F1EEF6','#E6D3E1','#DBB9CD','#D19EB9','#C684A4','#BB6990','#B14F7C','#A63467','#9B1A53','#91003F'];
  hcrow = [1, 2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100,  101,  102,  103,  104,  105,  106,  107,  108,  109,  110,  111,  112,  113,  114,  115,  116,  117,  118,  119,  120,  121,  122,  123,  124,  125,  126,  127,  128,  129,  130,  131,  132,  133,  134,  135,  136,  137,  138,  139,  140,  141,  142,  143,  144,  145,  146,  147,  148,  149,  150,  151,  152,  153,  154,  155,  156,  157,  158,  159,  160,  161,  162,  163,  164,  165,  166,  167,  168,  169,  170,  171,  172,  173,  174,  175,  176,  177,  178,  179,  180,  181,  182,  183,  184,  185,  186,  187,  188,  189,  190,  191,  192,  193,  194,  195,  196,  197,  198,  199,  200,  201,  202,  203,  204,  205,  206,  207,  208,  209,  210,  211,  212,  213,  214,  215,  216,  217,  218,  219,  220,  221,  222,  223,  224,  225,  226,  227,  228,  229,  230,  231,  232,  233,  234,  235,  236,  237,  238,  239,  240,  241,  242,  243,  244,  245,  246,  247,  248,  249,  250,  251,  252,  253,  254,  255,  256,  257,  258,  259,  260,  261,  262,  263,  264,  265,  266,  267,  268,  269,  270,  271,  272,  273,  274,  275,  276,  277,  278,  279,  280,  281,  282,  283,  284,  285,  286,  287,  288,  289,  290,  291,  292,  293,  294,  295,  296,  297,  298,  299,  300,  301,  302,  303,  304,  305,  306,  307,  308,  309,  310,  311,  312,  313,  314,  315,  316,  317,  318,  319,  320,  321,  322,  323,  324,  325,  326,  327,  328,  329,  330,  331,  332,  333,  334,  335,  336,  337,  338,  339,  340,  341,  342,  343,  344,  345,  346,  347,  348,  349,  350,  351,  352,  353,  354,  355,  356,  357,  358,  359,  360,  361,  362,  363,  364,  365,  366,  367,  368,  369,  370,  371,  372,  373,  374,  375,  376,  377,  378,  379,  380,  381,  382,  383,  384,  385,  386,  387,  388,  389,  390,  391,  392,  393,  394,  395,  396,  397,  398,  399,  400,  401,  402,  403,  404,  405,  406,  407,  408,  409,  410,  411,  412,  413,  414,  415,  416,  417,  418,  419,  420,  421,  422,  423,  424,  425,  426,  427,  428,  429,  430,  431,  432,  433,  434,  435,  436,  437,  438,  439,  440,  441,  442,  443,  444,  445,  446,  447,  448,  449,  450,  451,  452,  453,  454,  455,  456,  457,  458,  459,  460,  461,  462,  463,  464,  465,  466,  467,  468,  469,  470,  471,  472,  473,  474,  475,  476,  477,  478,  479,  480,  481,  482,  483,  484,  485,  486,  487,  488,  489,  490,  491,  492,  493,  494,  495,  496,  497,  498,  499,  500,  501,  502,  503,  504,  505,  506,  507,  508,  509,  510,  511,  512,  513,  514,  515,  516,  517,  518,  519,  520,  521,  522,  523,  524,  525,  526,  527,  528,  529,  530,  531,  532,  533,  534,  535,  536,  537,  538,  539,  540,  541,  542,  543,  544,  545,  546,  547,  548,  549,  550,  551,  552,  553,  554,  555,  556,  557,  558,  559,  560,  561,  562,  563,  564,  565,  566,  567,  568,  569,  570,  571,  572,  573,  574,  575,  576,  577,  578,  579,  580,  581,  582,  583,  584,  585,  586,  587,  588,  589,  590,  591,  592,  593,  594,  595,  596,  597,  598,  599,  600,  601,  602,  603,  604,  605,  606,  607,  608,  609,  610,  611,  612,  613,  614,  615,  616,  617,  618,  619,  620,  621,  622,  623,  624,  625,  626,  627,  628,  629,  630,  631,  632,  633,  634,  635,  636,  637,  638,  639,  640,  641,  642,  643,  644,  645,  646,  647,  648,  649,  650,  651,  652,  653,  654,  655,  656,  657,  658,  659,  660,  661,  662,  663,  664,  665,  666,  667,  668,  669,  670,  671,  672,  673,  674,  675,  676,  677,  678,  679,  680,  681,  682,  683,  684,  685,  686,  687,  688,  689,  690,  691,  692,  693,  694,  695,  696,  697,  698,  699,  700,  701,  702,  703,  704,  705,  706,707,708,709,710,711 ], // change to gene name or probe id
  hccol = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20], // change to gene name or probe id
  rowLabel = ['com1','com2','com3','com4','com5','com6','com7','com8','com9','com10','com11','com12','com13','com14','com15','com16','com17','com18','com19','com20'], 
// change to gene name or probe id
  colLabel = [10078,10104,10107,10108,10138,10145,10147,10225,10299,10324,10401,10562,10696,10725,10874,10909,10942,11081,11308,11404,11415,11552,11600,11607,11618,11674,11703,11754,11762,11850,11896,11955,11970,11976,12052,12062,12067,12073,12079,12140,12369,12431,12456,12490,12503,12542,12558,12872,13035,13056,13100,13103,13119,13141,13142,13168,13356,13407,13567,13586,13598,13688,13721,13788,13856,13901,13928,13936,13963,14008,14011,14297,14322,14323,14541,14542,14593,14601,14656,14702,14891,15069,15077,15202,15472,15553,15560,15579,15667,15720,16424,16432,16600,16678,17005,17478,17750,17806,17830,18016,18092,18163,18403,18411,18729,19350,19393,19502,19561,20053,20204,20220,20482,20626,21186,21207,21371,21573,21776,21792,21936,21979,22032,22103,22111,22293,22509,22517,22592,22752,22779,22840,23026,23077,23085,23114,23309,23318,23473,23501,23660,23712,23819,23887,23915,23931,23990,24010,24046,24109,24205,24221,24272,24360,24459,24563,24643,24766,24803,24942,25013,25081,25099,25320,25419,25487,25769,25778,25785,25953,26112,26332,26403,26518,26710,26825,27422,27430,27633,27713,27756,27828,27887,27959,27983,27991,28222,28345,28388,29102,29946,30382,30681,30940,32379,32791,32870,34032,34746,34817,34833,35044,35051,35554,36397,36468,36469,37161,37284,37584,38156,38578,38682,38703,38762,39490,39642,39917,40061,40125,40272,40416,40539,41080,41355,41443,42024,42083,42200,42534,42585,42796,42906,43123,43350,43449,43553,43772,44206,44601,44644,44951,45241,45277,45356,45495,45671,45751,45794,46578,46674,46877,46886,47159,47175,47466,47896,47941,48267,48274,48485,48486,48506,48725,48960,49015,49154,49373,49429,49656,49905,50017,50032,50227,50876,50906,51043,51263,51369,51377,51596,51706,52038,52090,52230,52329,52337,52476,52695,52708,52919,52978,53065,53225,53479,53613,53831,53866,54148,54181,54690,54827,55976,56223,56232,56274,56573,57568,57665,57817,57904,58094,58246,58318,58683,58990,59010,59176,59184,59192,59248,59328,59379,59408,59440,59459,60097,60206,60442,60506,60599,60628,60871,60943,60986,61065,61241,61399,61621,61735,61743,61815,62092,62148,62308,62519,62770,62834,63060,63765,63830,64186,64282,64311,64390,64451,64565,64653,64936,64995,65138,65330,65787,65875,65883,65947,66093,66114,66157,66181,66325,66384,66800,67467,67598,68144,68304,68591,68857,69032,69550,69796,70033,70092,70308,70332,70500,70519,70536,70578,71175,71563,71686,72726,73139,73940,75034,75100,75154,75175,75186,75224,75241,75257,75333,75489,75510,75573,75577,75592,75607,75646,75789,75819,75825,75828,75857,75912,76076,76082,76090,76149,76171,76201,76226,76240,76282,76557,76565,76605,76614,76619,76624,76625,76638,76639,76644,76656,76708,76712,76744,76757,76804,76841,76887,77063,77129,77150,77178,77182,77274,77281,77284,77338,77418,77462,77481,77496,77546,77605,77606,77659,77661,77668,77702,77730,77768,77976,78034,78083,78139,78263,78840,78877,78916,78927,78975,78987,79057,79089,79094,79103,79108,79129,79145,79212,79237,79265,79323,79411,79545,79547,79588,79637,79718,79879,79881,79915,79973,80055,80080,80100,80204,80266,80286,80303,80381,80399,80406,80599,80681,80711,80913,81055,81061,81126,81138,81262,81285,81481,81540,81593,81655,81774,81776,81857,81910,82196,82298,82307,82598,82618,82642,82643,82651,82686,82775,83111,83143,83332,83421,83435,83443,83462,83583,83596,83601,83693,83699,83862,83906,83976,83981,84001,84020,84032,84036,84129,84176,84342,84372,84373,84381,84519,84769,84788,85032,85058,85072,85073,85238,85257,85269,85271,85348,85459,85516,85522,85592,85593,85631,85663,85753,85792,85913,85914,85926,85963,86021,86102,86111,86136,86158,86176,86228,86305,86314,86339,86356,86414,86580,86591,86725,86756,86783,86799,86845,86868,86946,86964,86979,87055,87070,87137,87184,87267,87292,87299,87432,87447,87536,87657,87717,87842,88031,88313,88319,88352,88587,88590,88661,88668,88837,88845,88853,88991,89001,89002,89003,89004,89006,89014,89070,89071,89105,89179,89195,89258,89301,89303,89393,89463,89495,89508,89509,89525,89533,89626,89641,89757,89813,89954,90038,90071,90110,90162,90199,90215,90319,90352,90386,90435,90441,90537,90547,90601,90609,90805,90808,90829,90880,90979,90993,91063,91068,91143,91207,91218,91233,91380,91388,91391,91392,91461,91547,91556,91611,91650,91883,91926,91937,92121,92156,92157,92293,92602,92611,92618,92655, 
]; 
// change to contrast name

</script>

<body>
    <canvas id="heatMap" width="1000" height="10"></canvas>
</body>
</html>

<script type="text/javascript" src="chart.js"></script>
<script type="text/javascript">
    window.onload = d3.csv("data/permno_cpxMn.csv",function(d) {
		return {
			row:   +d.col_idx,
			col:   +d.row_idx,
			value: +d.log2ratio
		};
	},heatMap.makeMap.Chart);
</script>